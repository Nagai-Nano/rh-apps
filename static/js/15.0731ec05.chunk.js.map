{"version":3,"sources":["pages/MovieSeatBooking/Styles.js","pages/MovieSeatBooking/MovieInfo.js","pages/MovieSeatBooking/Seat.js","pages/MovieSeatBooking/index.js"],"names":["PageContainer","styled","div","Select","AntdSelect","MovieInfoWrapper","MovieBackground","props","bgUrl","MovieInfoContent","Divider","AntdDivider","ShowCase","SeatContainer","SeatList","SeatRow","Message","h1","MovieInfo","movie","date","time","dispatch","handleDateChange","d","type","payload","handleTimeChange","t","className","src","posterUrl","alt","title","genres","map","genre","idx","key","length","duration","releaseDate","price","overview","moment","format","airingDate","shape","ghost","size","onClick","airingTime","Seat","children","onSeatClick","undefined","ROWS","initState","selectedMovie","movies","selectedSeat","movieReducer","state","filter","seat","MovieSeatBooking","useReducer","handleSeatSelect","label","isSeatExists","find","value","onChange","newMovie","Option","row","style","marginBottom","Array","from","_","index","isBooked","bookedSeat","includes","isSelected"],"mappings":"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","file":"static/js/15.0731ec05.chunk.js","sourcesContent":["import styled from 'styled-components';\nimport { Select as AntdSelect, Divider as AntdDivider } from 'antd';\n\nexport const PageContainer = styled.div``;\n\nexport const Select = styled(AntdSelect)`\n  width: 25rem;\n  margin-bottom: 1rem;\n`;\n\nexport const MovieInfoWrapper = styled.div`\n  border-radius: 2px;\n  position: relative;\n  height: 30rem;\n`;\n\nexport const MovieBackground = styled.div`\n  width: 100%;\n  height: 100%;\n  border-radius: 2px;\n  background-image: url(${(props) => props.bgUrl});\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n\n  .bg-overlay {\n    height: 100%;\n    border-radius: 2px;\n    background-image: linear-gradient(\n      to right,\n      rgba(14.12%, 14.51%, 16.86%, 0.95) 150px,\n      rgba(22.35%, 22.35%, 22.35%, 0.84) 100%\n    );\n  }\n`;\n\nexport const MovieInfoContent = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 2rem;\n  display: flex;\n\n  .movie-info {\n    width: 70%;\n    display: flex;\n\n    .info-left {\n      width: 17rem;\n      margin-right: 2rem;\n      flex-shrink: 0;\n\n      img {\n        width: 100%;\n        border-radius: 4px;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);\n      }\n    }\n\n    .info-right {\n      h1.movie-title {\n        font-size: 2.5rem;\n        font-weight: bold;\n        color: #fff;\n        line-height: 1;\n        letter-spacing: 1px;\n        margin-bottom: 1rem;\n      }\n\n      h3 {\n        font-size: 1.2rem;\n        color: #13c2c2;\n        font-weight: 600;\n        letter-spacing: 0.5px;\n        margin-bottom: 0;\n\n        span {\n          font-size: 1.1rem;\n          font-weight: normal;\n          color: #fff;\n        }\n      }\n    }\n  }\n\n  .airing-date-time {\n    flex-grow: 0;\n\n    .airing-date h1,\n    .airing-time h1 {\n      color: #fff;\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      font-size: 1.8rem;\n      line-height: 1;\n      font-weight: 600;\n    }\n\n    .airing-date .list-date {\n      display: grid;\n      grid-template-columns: repeat(8, 1fr);\n      grid-gap: 10px;\n    }\n\n    .airing-time {\n      margin-top: 2rem;\n      h1 {\n        font-size: 1.2rem;\n      }\n\n      .list-time {\n        display: grid;\n        grid-template-columns: repeat(4, 1fr);\n        grid-gap: 10px;\n      }\n    }\n  }\n`;\n\nexport const Divider = styled(AntdDivider)`\n  height: 100%;\n  border-left-color: #13c2c2;\n  margin: 0 2rem;\n`;\n\nexport const ShowCase = styled.div`\n  margin: 2rem 0;\n  display: flex;\n  justify-content: center;\n\n  & > div {\n    display: inline-flex;\n    align-items: center;\n    margin-right: 2rem;\n\n    span {\n      margin-left: 7px;\n      font-size: 1.03rem;\n    }\n  }\n`;\n\nexport const SeatContainer = styled.div`\n  border: 1px solid #d4d4d5;\n  border-radius: 4px;\n  width: 5rem;\n  height: 4rem;\n\n  &.default {\n    width: 2rem;\n    height: 2rem;\n    cursor: auto !important;\n  }\n\n  &:not(.booked) {\n    cursor: pointer;\n    transition: 0.2s all linear;\n\n    &:hover {\n      border-color: #87e8de;\n      background: #87e8de;\n    }\n  }\n\n  &.selected {\n    color: #fff;\n    border-color: #13c2c2;\n    background-color: #13c2c2;\n  }\n\n  &.booked {\n    color: #8c8c8c;\n    background-color: #d4d4d5;\n  }\n\n  & > div {\n    padding: 1rem;\n    text-align: center;\n    line-height: 2rem;\n  }\n\n  &.span-right {\n    grid-column: span 2;\n    justify-self: start;\n  }\n\n  &.span-left {\n    grid-column: span 2;\n    justify-self: end;\n  }\n`;\n\nexport const SeatList = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 3rem;\n`;\n\nexport const SeatRow = styled.div`\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n  grid-gap: 1rem;\n  justify-items: center;\n  margin-bottom: 1rem;\n`;\n\nexport const Message = styled.h1`\n  text-align: center;\n  font-size: 2rem;\n  margin-bottom: 0;\n  font-weight: 600;\n\n  span {\n    color: #13c2c2;\n  }\n`;\n","import React from 'react';\nimport moment from 'moment';\nimport { Button } from 'antd';\n\nimport {\n  MovieInfoWrapper,\n  MovieBackground,\n  MovieInfoContent,\n  Divider\n} from './Styles';\n\nfunction MovieInfo({ movie, date, time, dispatch }) {\n  const handleDateChange = (d) => () => {\n    dispatch({\n      type: 'CHANGE_DATE',\n      payload: d\n    });\n  };\n\n  const handleTimeChange = (t) => () => {\n    dispatch({\n      type: 'CHANGE_TIME',\n      payload: t\n    });\n  };\n\n  return (\n    <MovieInfoWrapper>\n      <MovieBackground bgUrl={movie.bgUrl}>\n        <div className=\"bg-overlay\" />\n      </MovieBackground>\n      <MovieInfoContent>\n        <div className=\"movie-info\">\n          <div className=\"info-left\">\n            <img src={movie.posterUrl} alt={movie.title} />\n          </div>\n          <div className=\"info-right\">\n            <h1 className=\"movie-title\">{movie.title}</h1>\n            <h3>\n              Genres:{' '}\n              {movie.genres.map((genre, idx) => (\n                <span key={genre}>\n                  {genre}\n                  {idx + 1 < movie.genres.length && ', '}\n                </span>\n              ))}\n            </h3>\n            <h3>\n              Duration: <span>{movie.duration}</span>\n            </h3>\n            <h3>\n              Release Date: <span>{movie.releaseDate}</span>\n            </h3>\n            <h3>\n              Price: <span>${movie.price}</span>\n            </h3>\n            <h3>\n              Overview: <span>{movie.overview}</span>\n            </h3>\n          </div>\n        </div>\n        <Divider type=\"vertical\" />\n        <div className=\"airing-date-time\">\n          <div className=\"airing-date\">\n            <h1>{moment(date).format('dddd DD, MMMM')}</h1>\n            <div className=\"list-date\">\n              {movie.airingDate.map((d) => (\n                <Button\n                  key={d}\n                  shape=\"circle\"\n                  ghost={d !== date}\n                  size=\"large\"\n                  type={d === date && 'primary'}\n                  onClick={handleDateChange(d)}\n                >\n                  {moment(d).format('DD')}\n                </Button>\n              ))}\n            </div>\n          </div>\n          <div className=\"airing-time\">\n            <h1>Time:</h1>\n            <div className=\"list-time\">\n              {movie.airingTime.map((t) => (\n                <Button\n                  key={t}\n                  size=\"large\"\n                  ghost={t !== time}\n                  type={t === time && 'primary'}\n                  onClick={handleTimeChange(t)}\n                >\n                  {t}\n                </Button>\n              ))}\n            </div>\n          </div>\n        </div>\n      </MovieInfoContent>\n    </MovieInfoWrapper>\n  );\n}\n\nexport default MovieInfo;\n","import React from 'react';\n\nimport { SeatContainer } from './Styles';\n\nfunction Seat({ children, className = '', onSeatClick, ...props }) {\n  return (\n    <SeatContainer\n      {...props}\n      onClick={onSeatClick ? onSeatClick : undefined}\n      className={`${!children ? 'default' : ''} ${className}`}\n    >\n      {children && <div>{children}</div>}\n    </SeatContainer>\n  );\n}\n\nexport default Seat;\n","import React, { useReducer } from 'react';\nimport { Divider } from 'antd';\n\nimport {\n  PageContainer,\n  Select,\n  ShowCase,\n  SeatList,\n  SeatRow,\n  Message\n} from './Styles';\n\nimport movies from './movies';\nimport MovieInfo from './MovieInfo';\nimport Seat from './Seat';\n\nconst ROWS = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];\n\nconst initState = {\n  selectedMovie: movies[0],\n  date: movies[0].airingDate[0],\n  time: movies[0].airingTime[0],\n  selectedSeat: []\n};\n\nconst movieReducer = (state, { type, payload }) => {\n  switch (type) {\n    case 'SELECT_MOVIE':\n      return { ...state, ...payload };\n    case 'CHANGE_DATE':\n      return { ...state, date: payload };\n    case 'CHANGE_TIME':\n      return { ...state, time: payload };\n    case 'ADD_SEAT':\n      return {\n        ...state,\n        selectedSeat: [...state.selectedSeat, payload]\n      };\n    case 'REMOVE_SEAT':\n      return {\n        ...state,\n        selectedSeat: state.selectedSeat.filter((seat) => seat !== payload)\n      };\n    default:\n      return state;\n  }\n};\n\nfunction MovieSeatBooking() {\n  const [state, dispatch] = useReducer(movieReducer, initState);\n  const { selectedMovie, date, time, selectedSeat } = state;\n\n  const handleMovieChange = (value) => {\n    const newMovie = movies.find((movie) => movie.title === value);\n    dispatch({\n      type: 'SELECT_MOVIE',\n      payload: {\n        selectedMovie: newMovie,\n        date: newMovie.airingDate[0],\n        time: newMovie.airingTime[0],\n        selectedSeat: []\n      }\n    });\n  };\n\n  const handleSeatSelect = (label) => () => {\n    const isSeatExists = selectedSeat.find((seat) => seat === label);\n    dispatch({\n      type: isSeatExists ? 'REMOVE_SEAT' : 'ADD_SEAT',\n      payload: label\n    });\n  };\n\n  const renderSeats = () => {\n    return ROWS.map((row) => (\n      <SeatRow\n        key={row}\n        style={{ marginBottom: row === 'B' || row === 'F' ? '3rem' : '1rem' }}\n      >\n        {Array.from({ length: 10 }).map((_, idx) => {\n          const index = idx + 1;\n          const label = row + index;\n          const isBooked = selectedMovie.bookedSeat.includes(label);\n          const isSelected = selectedSeat.includes(label);\n\n          return (\n            <Seat\n              key={idx}\n              onSeatClick={!isBooked && handleSeatSelect(label)}\n              className={`${\n                index === 2 ? 'span-right' : index === 9 ? 'span-left' : ''\n              } ${isBooked ? 'booked' : ''} ${isSelected ? 'selected' : ''}`}\n            >\n              {label}\n            </Seat>\n          );\n        })}\n      </SeatRow>\n    ));\n  };\n\n  return (\n    <PageContainer>\n      <Select value={selectedMovie.title} onChange={handleMovieChange}>\n        {movies.map((movie) => (\n          <Select.Option key={movie.title} value={movie.title}>\n            {movie.title}\n          </Select.Option>\n        ))}\n      </Select>\n      <MovieInfo\n        movie={selectedMovie}\n        date={date}\n        time={time}\n        dispatch={dispatch}\n      />\n      <ShowCase>\n        <div>\n          <Seat /> <span>Available</span>\n        </div>\n        <div>\n          <Seat className=\"selected\" /> <span>Selected</span>\n        </div>\n        <div>\n          <Seat className=\"booked\" /> <span>Booked</span>\n        </div>\n      </ShowCase>\n      <SeatList>{renderSeats()}</SeatList>\n      <Divider />\n      <Message>\n        You have selected <span>{selectedSeat.length}</span> seats, total is{' '}\n        <span>${selectedMovie.price * selectedSeat.length}</span>\n      </Message>\n    </PageContainer>\n  );\n}\n\nexport default MovieSeatBooking;\n"],"sourceRoot":""}